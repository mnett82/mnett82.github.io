import{s as tt,f as et,n as J,r as st,e as nt,h as rt,b as ot}from"../chunks/scheduler.54e97ece.js";import{S as at,i as lt,g as h,m as D,s as I,h as _,j as E,n as R,f as p,c as M,y,k as d,a as P,x as c,z as Q,A as W,B as it,o as L}from"../chunks/index.7158fff4.js";import{w as ct}from"../chunks/index.46c69e94.js";function ut(n){return console.assert(n>=0&&n<=1,"%o",{seed:n}),n<.05?"/":n<.2?"*":n<.5?"-":"+"}function ft(n,t,s){switch(s){case"+":return n+t;case"-":return n-t;case"*":return n*t;case"/":return n/t}}const Z=()=>{const n=Math.random(),t=ut(n),s=n<.7,e=(l,x)=>Math.floor(l+Math.random()*(x-l));let r,a;switch(t){case"+":r=s?e(100,899):e(100,500),a=s?e(10,100):e(100,499);break;case"-":r=e(s?100:200,999),a=s?e(10,100):e(100,r);break;case"*":case"/":s||t==="/"?(r=[2,5,10,20,50].at(e(0,4))||2,a=e(1,999/r)):(r=e(10,Math.sqrt(999)),a=e(10,Math.sqrt(999)));break}t==="/"&&([r,a]=[r*a,r]);let b=ft(r,a,t);return(t==="+"||t==="*")&&Math.random()<.5&&([r,a]=[a,r]),{x:r,y:a,op:t,soln:b}},$="s",pt=()=>{const n=window.localStorage.getItem($);return n==null||isNaN(parseInt(n))?0:parseInt(n)},G=ct(pt());G.subscribe(n=>{window.localStorage.setItem($,n.toString())});const ht=""+new URL("../assets/correct.084b7846.wav",import.meta.url).href;function _t(n){let t,s=":";return{c(){t=h("span"),t.textContent=s,this.h()},l(e){t=_(e,"SPAN",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-1dwuvjq"&&(t.textContent=s),this.h()},h(){d(t,"class","font-roboto text-6xl")},m(e,r){P(e,t,r)},d(e){e&&p(t)}}}function dt(n){let t,s="·";return{c(){t=h("span"),t.textContent=s,this.h()},l(e){t=_(e,"SPAN",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-3mimpg"&&(t.textContent=s),this.h()},h(){d(t,"class","font-roboto text-6xl")},m(e,r){P(e,t,r)},d(e){e&&p(t)}}}function mt(n){let t,s="−";return{c(){t=h("span"),t.textContent=s,this.h()},l(e){t=_(e,"SPAN",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-w4pqhz"&&(t.textContent=s),this.h()},h(){d(t,"class","font-roboto text-6xl")},m(e,r){P(e,t,r)},d(e){e&&p(t)}}}function bt(n){let t,s="+";return{c(){t=h("span"),t.textContent=s,this.h()},l(e){t=_(e,"SPAN",{class:!0,"data-svelte-h":!0}),y(t)!=="svelte-164omsl"&&(t.textContent=s),this.h()},h(){d(t,"class","font-roboto text-6xl")},m(e,r){P(e,t,r)},d(e){e&&p(t)}}}function xt(n){let t,s,e,r=n[1].x+"",a,b,l,x,k=n[1].y+"",A,q,g,i="=",m,v,U,w,O,j,T,V,C,K,z,F;function H(o,u){if(o[1].op==="+")return bt;if(o[1].op==="-")return mt;if(o[1].op==="*")return dt;if(o[1].op==="/")return _t}let N=H(n),f=N&&N(n);return{c(){t=h("div"),s=h("div"),e=h("span"),a=D(r),b=I(),f&&f.c(),l=I(),x=h("span"),A=D(k),q=I(),g=h("span"),g.textContent=i,m=I(),v=h("input"),U=I(),w=h("p"),O=D(n[2]),j=D(" Punkt(e). Dein Rekord: "),T=D(n[4]),V=I(),C=h("audio"),this.h()},l(o){t=_(o,"DIV",{class:!0});var u=E(t);s=_(u,"DIV",{class:!0});var S=E(s);e=_(S,"SPAN",{class:!0});var X=E(e);a=R(X,r),X.forEach(p),b=M(S),f&&f.l(S),l=M(S),x=_(S,"SPAN",{class:!0});var Y=E(x);A=R(Y,k),Y.forEach(p),q=M(S),g=_(S,"SPAN",{class:!0,"data-svelte-h":!0}),y(g)!=="svelte-qvo4m7"&&(g.textContent=i),m=M(S),v=_(S,"INPUT",{class:!0}),S.forEach(p),U=M(u),w=_(u,"P",{class:!0});var B=E(w);O=R(B,n[2]),j=R(B," Punkt(e). Dein Rekord: "),T=R(B,n[4]),B.forEach(p),u.forEach(p),V=M(o),C=_(o,"AUDIO",{src:!0}),E(C).forEach(p),this.h()},h(){d(e,"class","font-roboto text-6xl"),d(x,"class","font-roboto text-6xl"),d(g,"class","font-roboto text-6xl"),d(v,"class","w-48 border-0 border-b-4 text-center border-banana p-2 mx-2 font-roboto text-6xl focus:outline-none"),d(s,"class","border-2 border-cobalt rounded-lg p-8 flex items-center gap-4"),d(w,"class","text-xl font-roboto font-bold"),d(t,"class","flex flex-col gap-12 items-center"),et(C.src,K=ht)||d(C,"src",K)},m(o,u){P(o,t,u),c(t,s),c(s,e),c(e,a),c(s,b),f&&f.m(s,null),c(s,l),c(s,x),c(x,A),c(s,q),c(s,g),c(s,m),c(s,v),Q(v,n[3]),c(t,U),c(t,w),c(w,O),c(w,j),c(w,T),P(o,V,u),P(o,C,u),n[7](C),z||(F=[W(v,"input",n[6]),W(v,"keydown",it(n[5]))],z=!0)},p(o,[u]){u&2&&r!==(r=o[1].x+"")&&L(a,r),N!==(N=H(o))&&(f&&f.d(1),f=N&&N(o),f&&(f.c(),f.m(s,l))),u&2&&k!==(k=o[1].y+"")&&L(A,k),u&8&&v.value!==o[3]&&Q(v,o[3]),u&4&&L(O,o[2]),u&16&&L(T,o[4])},i:J,o:J,d(o){o&&(p(t),p(V),p(C)),f&&f.d(),n[7](null),z=!1,st(F)}}}const vt=3;function St(n,t,s){let e;nt(n,G,i=>s(4,e=i));let r,a=Z(),b=0,l="";const x=(i,m)=>["0","1","2","3","4","5","6","7","8","9","Backspace"].includes(m)?m==="Backspace"?i.slice(0,-1):i.length===vt||m==="0"&&i===""?i:i+m:i,k=i=>{const m=x(l,i.key);if(m===l||(s(3,l=m),l===""))return;parseInt(l)===a.soln&&(A(),s(3,l=""),s(1,a=Z()),s(2,b+=1),b>e&&rt(G,e=b,e))},A=()=>{r.paused?r.play():s(0,r.currentTime=0,r)};function q(){l=this.value,s(3,l)}function g(i){ot[i?"unshift":"push"](()=>{r=i,s(0,r)})}return[r,a,b,l,e,k,q,g]}class kt extends at{constructor(t){super(),lt(this,t,St,xt,tt,{})}}export{kt as component};
